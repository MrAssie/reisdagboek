# Dokploy Deployment Notes - ReisDagboek

## Port Configuratie

**Dokploy zelf draait op port 3000** op de homelab server (192.168.2.13:3000).

Apps die via Dokploy gedeployed worden mogen daarom **NIET** op port 3000 draaien.
Gebruik altijd port **3001 of hoger** voor applicaties.

### ReisDagboek configuratie

- **Dokploy Application ID:** `J8zTiCxmQ9peKBPB28O2E`
- **Environment variable:** `PORT=3001` (gezet in Dokploy)
- **package.json start script:** `next start -p ${PORT:-3001}`
- **Build type:** Nixpacks (auto-detect Next.js)
- **GitHub:** `MrAssie/reisdagboek` (branch: main, auto-deploy on push)

## Deployment

Deploy triggert automatisch bij push naar main (GitHub webhook).

Handmatig deployen:
```bash
cd ~/.openclaw/workspace-coder/skills/dokploy
./dokploy-deploy.sh deploy J8zTiCxmQ9peKBPB28O2E
```

Of via de API:
```bash
curl -X POST 'http://192.168.2.13:3000/api/application.deploy' \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: <token>' \
  -d '{"applicationId": "J8zTiCxmQ9peKBPB28O2E"}'
```
